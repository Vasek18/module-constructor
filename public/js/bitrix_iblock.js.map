{"version":3,"sources":["bitrix_iblock.coffee"],"names":[],"mappings":"AAEA;EAAA,CAAA,CAAE,cAAF,CAAiB,CAAC,EAAlB,CAAqB,eAArB,EAAsC,SAAC,KAAD;AACrC,QAAA;IAAA,MAAA,GAAS,CAAA,CAAE,KAAK,CAAC,aAAR;IACT,GAAA,GAAM,MAAM,CAAC,OAAP,CAAe,IAAf;IACN,OAAA,GAAU,GAAG,CAAC,IAAJ,CAAS,gBAAT,CAA0B,CAAC,GAA3B,CAAA;IACV,UAAA,GAAa,CAAA,CAAE,MAAM,CAAC,IAAP,CAAY,aAAZ,CAAF;IAGb,UAAU,CAAC,IAAX,CAAgB,aAAhB,CAA8B,CAAC,IAA/B,CAAA;IAEA,UAAU,CAAC,IAAX,CAAgB,yBAAA,GAA4B,OAA5B,GAAsC,IAAtD,CAA2D,CAAC,IAA5D,CAAA;IAEA,UAAU,CAAC,IAAX,CAAgB,oCAAhB,CAAqD,CAAC,IAAtD,CAAA;IAEA,UAAU,CAAC,IAAX,CAAgB,mCAAhB,CAAoD,CAAC,IAArD,CAA0D,UAA1D,EAAsE,IAAtE;IACA,IAAI,CAAC,UAAU,CAAC,IAAX,CAAgB,qCAAhB,CAAsD,CAAC,MAA5D;MACC,UAAU,CAAC,IAAX,CAAgB,mCAAhB,CAAoD,CAAC,KAArD,CAAA,EADD;KAAA,MAAA;MAGC,UAAU,CAAC,IAAX,CAAgB,qCAAhB,CAAsD,CAAC,OAAvD,CAA+D,OAA/D,CAAuE,CAAC,IAAxE,CAA6E,yBAA7E,CAAuG,CAAC,IAAxG,CAA6G,UAA7G,EACC,KADD,EAHD;;EAdqC,CAAtC;;EAwBA,CAAA,CAAE,QAAF,CAAW,CAAC,EAAZ,CAAe,QAAf,EAAyB,wCAAzB,EAAmE,SAAA;AAClE,QAAA;IAAA,IAAA,GAAO,CAAA,CAAE,IAAF,CAAO,CAAC,OAAR,CAAgB,OAAhB;IACP,KAAA,GAAQ,CAAA,CAAE,iBAAF;IACR,KAAK,CAAC,IAAN,CAAW,SAAA;aACV,CAAA,CAAE,IAAF,CAAO,CAAC,IAAR,CAAa,yBAAb,CAAuC,CAAC,IAAxC,CAA6C,UAA7C,EAAyD,IAAzD;IADU,CAAX;IAGA,IAAI,CAAC,IAAL,CAAU,yBAAV,CAAoC,CAAC,IAArC,CAA0C,UAA1C,EAAsD,KAAtD;EANkE,CAAnE;AAxBA","file":"bitrix_iblock.js","sourcesContent":["\r\n# показ модального окна с доп. настройками\r\n$('.prop .modal').on 'show.bs.modal', (event) ->\r\n\tbutton = $(event.relatedTarget)\r\n\trow = button.parents(\"tr\")\r\n\ttype_id = row.find(\"[name *= TYPE]\").val()\r\n\tmodal_form = $(button.attr('data-target'))\r\n\r\n\t# скрываем все поля\r\n\tmodal_form.find('.form-group').hide()\r\n\t# показываем поля доступные для этого типа поля\r\n\tmodal_form.find('[data-for_type_ids ~= \"' + type_id + '\"]').show()\r\n\t# также показываем поля нужные всем типам\r\n\tmodal_form.find('[data-for_type_ids ~= \"_FOR_ALL_\"]').show()\r\n\t# блокируем исключающиеся варианты, если нужно\r\n\tmodal_form.find(\".only-one input:not([type=radio])\").prop(\"disabled\", true)\r\n\tif (!modal_form.find(\".only-one input[type=radio]:checked\").length)\r\n\t\tmodal_form.find(\".only-one input[type=radio]:first\").click()\r\n\telse\r\n\t\tmodal_form.find(\".only-one input[type=radio]:checked\").parents(\".item\").find(\"input:not([type=radio])\").prop(\"disabled\",\r\n\t\t\tfalse)\r\n\r\n\treturn\r\n\r\n\r\n# блокировка и разблокировка вариантов опшионов у свойств - списков\r\n$(document).on \"change\", \".options .modal .only-one [type=radio]\", () ->\r\n\titem = $(this).parents(\".item\")\r\n\titems = $(\".only-one .item\")\r\n\titems.each(() ->\r\n\t\t$(this).find(\"input:not([type=radio])\").prop(\"disabled\", true)\r\n\t)\r\n\titem.find(\"input:not([type=radio])\").prop(\"disabled\", false)\r\n\r\n\treturn"]}